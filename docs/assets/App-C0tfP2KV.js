import{r as t,j as e}from"./index-CkEUT0eu.js";import{n as g,m as y,o as x,p as b,q as v}from"./HamburgerMenu-BCXgWqBx.js";import{P as S,L as w,E as j,A as C,a as P,T}from"./AddCameraTarget-BY_eifMB.js";import{P as z,N as I,S as M}from"./PoiHandler-CJjUSPZL.js";import{u as O}from"./Helper-uIA9oKEp.js";import"./BackButton-_QzQLuJJ.js";const c={sceneTitle:"Test scene",description:"This is a test scene to demonstrate the capabilities of the NPG 3JS platform.",sceneModels:[{path:"/models/testScene.glb",castShadow:!0,receiveShadow:!0},{path:"/models/airplane.glb",loopAnimation:"fly_loop",castShadow:!0,receiveShadow:!0},{path:"/models/quest3.glb",castShadow:!0,receiveShadow:!0},{path:"/models/scrollTest.glb",castShadow:!0,receiveShadow:!0}],canvasSettings:{backgroundColor:"#666666",antialias:!0,environmentProps:{preset:"studio",background:!1,environmentIntensity:.1,backgroundBlurriness:.1},usePostEffects:!0},parentPoi:{name:"Test scene parent POI",description:"The parent POI for the test scene, encompassing all child POIs.",type:"staticObject",isMaster:!0,cameraControls:{type:"orbit",enablePan:!1,startPosition:{x:0,y:2,z:10},targetOffset:{x:0,y:1,z:0},constraints:{up:50,down:-1,minZoom:1,maxZoom:12}},childPois:[{name:"Compressor",meshId:"Compressor",type:"productViewer",useOverlay:!0,poiInfo:{title:"Compressor",description:["The TMC compressor is engineered to deliver superior performance and reliability in various industrial applications.","Equipped with advanced technology, the TMC compressor offers precise control and optimal energy consumption."],image:"compressor.jpg"},cameraControls:{startPosition:{x:0,y:1,z:8},targetOffset:{x:0,y:0,z:0}},uiElement:{useIcon:!0,type:"clickable"},childPois:[{name:"Compressor 1",type:"product",modelData:[{path:"/models/compressor.glb"}]},{name:"Compressor 2",type:"product",modelData:[{path:"/models/compressor.glb"}]}]},{name:"Screen",meshId:"Screen",type:"videoFrame",cameraControls:{startPosition:{x:0,y:1.8,z:1},targetOffset:{x:0,y:0,z:-1},animationDuration:1},uiElement:{useIcon:!0,type:"clickable",positionOffset:{x:0,y:1.3,z:0}},videoData:{isVideo:!0,videoUrl:"npg_jul.mp4",fadeDuration:500}},{name:"Quest3",meshId:"Quest3",type:"staticObject",poiInfo:{title:"Interactive Solutions",description:["At NPG, we excel in crafting innovative and interactive solutions designed to captivate audiences.","Our cutting-edge products are thoughtfully designed to boost user engagement while maintaining seamless interfaces."],image:"npgVr.jpg"},cameraControls:{constraints:{minZoom:.6,maxZoom:.6},type:"fixed",startPosition:{x:0,y:.3,z:.6},targetOffset:{x:0,y:0,z:0}},uiElement:{useIcon:!0,type:"clickable"},childPois:[{name:"Quest3",meshId:"Quest3",type:"inspectObject",inspectObjectData:{elevation:.3,rotationSpeed:1},cameraControls:{animate:!1,type:"fixed",startPosition:{x:0,y:.3,z:.6},targetOffset:{x:0,y:0,z:0}},uiElement:{useIcon:!0,type:"clickable"},poiFeatures:[{name:"VR video",type:"videoFrame",activationType:"ui",data:{isVideo:!0,videoUrl:"npg_jul.mp4",fadeDuration:1e3,fadeIn:!0,fadeOut:!0},uiElement:{name:"Play Video",type:"icon",positionOffset:{x:0,y:.3,z:0}}}]}]},{name:"TMC Mafyar",meshId:"TMC_Mafyar",type:"staticObject",poiInfo:{title:"TMC Maritime technology",description:["TMC delivers high-performance equipment that ensures optimal performance and reliability.","Equipped with advanced TMC technology, the ship can withstand harsh marine conditions and deliver superior performance.","Engineered to deliver exceptional performance and reliability in various marine applications."],image:"ship.jpg"},cameraControls:{type:"orbit",constraints:{up:50,down:0,minZoom:1,maxZoom:12},startPosition:{x:0,y:1,z:-2},targetOffset:{x:0,y:0,z:0},animationDuration:.6},uiElement:{useIcon:!0,type:"clickable"}},{name:"Airplane",meshId:"airplane",type:"staticObject",cameraControls:{type:"orbit",constraints:{up:90,down:90,minZoom:.6,maxZoom:12},startPosition:{x:0,y:1,z:2},targetOffset:{x:0,y:0,z:0},follow:!0},poiFeatures:[{name:"Gear animation",type:"animation",activationType:"ui",data:{isAnimation:!0,name:"LandingGear",loop:!1,reverseOnFalse:!0,speed:1},uiElement:{name:"Retract Gear",offName:"Extend Gear",type:"toggle"}}],uiElement:{useIcon:!0,type:"clickable"}},{name:"ScrollViewTest",meshId:"ScrollTester",type:"scrollView",cameraControls:{type:"fixed",constraints:{up:90,down:90,minZoom:.6,maxZoom:12},startPosition:{x:0,y:1,z:2},targetOffset:{x:0,y:0,z:0}},uiElement:{useIcon:!0,type:"clickable"},scrollData:{steps:[{stepName:"ScrollCube_1",cameraTransform:{position:{x:0,y:.2,z:.4},target:{x:0,y:0,z:0}}},{stepName:"ScrollCube_2",editMaterial:!0,poiInfo:{title:"Scroll Cube 3",description:["This is the third cube."]},cameraTransform:{position:{x:0,y:.2,z:.4},target:{x:0,y:0,z:0}}},{stepName:"ScrollCube_3",poiInfo:{title:"Scroll Cube 3",description:["This is the third cube."]},cameraTransform:{position:{x:0,y:.2,z:.4},target:{x:0,y:0,z:0}}},{stepName:"ScrollCube_4",editMaterial:!0,cameraTransform:{position:{x:0,y:.2,z:.4},target:{x:0,y:0,z:0}}}]}}]},debugSettings:{allTrue:!1,gridHelper:!1,axesHelper:!1,stats:!1,lightHelpers:!1}},L=()=>{const s=t.useRef(null),a=t.useRef(null),r=t.useRef(null),[n,p]=t.useState(!1),d=()=>{p(o=>!o)},[i,m]=t.useState(!1),u=()=>{m(o=>!o)},[l,f]=t.useState(!1),h=()=>{f(o=>!o)};return e.jsx("div",{style:{width:"100vw",height:"100vh",overflow:"hidden"},children:e.jsxs(S,{initialPoi:c.parentPoi,children:[e.jsxs(g,{ref:s,camera:{position:new y(0,8,12),near:.1,far:40},gl:{powerPreference:"high-performance",alpha:!1,antialias:!0},shadows:!i,children:[e.jsx("color",{attach:"background",args:["#666666"]}),e.jsxs(t.Suspense,{fallback:e.jsx(w,{}),children:[e.jsx(j,{preset:"city"}),e.jsx(E,{debugMode:l}),n&&e.jsx(x,{}),!i&&e.jsx(D,{}),e.jsx(C,{}),e.jsx(z,{projectData:c,canvasRef:s,uiRef:r,overlayRef:a})]})]}),e.jsx("div",{id:"overlay",ref:a,className:"absolute left-0 top-0 h-full w-full pointer-events-none overflow-hidden"}),e.jsx("div",{ref:r,id:"ui-overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",overflow:"hidden"},children:e.jsx(b,{showStats:n,onToggleStats:d,usePerformanceMode:i,onTogglePerformanceMode:u,debugMode:l,onToggleDebugMode:h})})]})})},E=({debugMode:s})=>{const a=t.useRef();return O(s?a:null,v),e.jsxs("group",{children:[e.jsx("directionalLight",{color:"#ffd8b1",position:[5,5,-10],castShadow:!0,intensity:20,"shadow-mapSize":[1024,1024],"shadow-bias":-.01,children:e.jsx("orthographicCamera",{ref:a,attach:"shadow-camera",args:[-5,5,5,-2,6,16]})}),e.jsx("directionalLight",{position:[-5,5,5],intensity:.4,"shadow-mapSize":[128,128]}),e.jsx("directionalLight",{position:[-5,5,-5],intensity:.4,"shadow-mapSize":[128,128]}),e.jsx("directionalLight",{position:[0,5,0],intensity:.4,"shadow-mapSize":[128,128]})]})},D=()=>e.jsxs(e.Fragment,{children:[e.jsxs(P,{children:[e.jsx(T,{}),e.jsx(I,{aoRadius:1,distanceFalloff:1,intensity:.6})]}),e.jsx(M,{size:10,focus:.4,samples:32})]});export{L as default};
